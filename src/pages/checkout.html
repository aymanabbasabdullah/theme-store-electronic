<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <title>ุฅุชูุงู ุงูุดุฑุงุก | ูุชุฌุฑ ุงูุชูููุฉ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google Fonts (Arabic friendly) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Leaflet Maps -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- Tailwind / main bundle -->
    <script type="module" src="/src/main.ts"></script>
  </head>

  <body class="bg-brand-50 text-slate-900 font-sans">
    <!-- Page wrapper -->
    <div class="min-h-screen flex flex-col">
      <!-- HEADER - Mega Menu -->
      <header
        class="sticky top-0 z-50 backdrop-blur-xl bg-white/80 border-b border-slate-200 shadow-[0_4px_20px_-5px_rgba(0,0,0,0.05)]"
      >
        <div class="container mx-auto px-4">
          <!-- Top bar -->
          <div
            class="hidden sm:flex items-center justify-between py-2 text-[11px] text-slate-500"
          >
            <span class="flex items-center gap-1">
              <span class="text-brand-600 text-base">โก</span>
              ุดุญู ุณุฑูุน ูุฏูุน ุขูู ุฏุงุฎู ุงูููู
            </span>

            <a
              href="/src/pages/contact.html"
              class="hover:text-brand-700 transition font-medium"
            >
              ุชุญุชุงุฌ ูุณุงุนุฏุฉุ
            </a>
          </div>

          <!-- Main row -->
          <div class="flex items-center justify-between py-3 sm:py-4">
            <!-- Logo -->
            <a href="/index.html" class="flex items-center gap-3 group">
              <div
                class="w-10 h-10 rounded-2xl flex items-center justify-center bg-gradient-to-tr from-brand-600 to-brand-500 text-white text-xl font-bold shadow-md group-hover:scale-105 transition"
              >
                โก
              </div>

              <div class="flex flex-col leading-tight">
                <span
                  class="text-lg sm:text-xl font-semibold text-slate-900 group-hover:text-brand-700 transition"
                >
                  ูุชุฌุฑ ุงูุชูููุฉ
                </span>
                <span class="text-[10px] text-slate-400 hidden sm:block">
                  ุฃูุถู ุงูุฃุฌูุฒุฉ ุงูุฅููุชุฑูููุฉ
                </span>
              </div>
            </a>

            <!-- Right side -->
            <div class="flex items-center gap-3">
              <!-- Back to cart -->
              <a
                href="/src/pages/cart.html"
                class="hidden group sm:inline-flex items-center gap-2 px-3.5 py-1.5 rounded-full border border-slate-200 bg-white hover:bg-slate-50 text-xs text-slate-600 hover:text-brand-700 transition"
              >
                <span
                  class="w-7 h-7 rounded-full bg-slate-50 flex items-center justify-center shadow-sm"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 16 16"
                    fill="currentColor"
                    class="w-4 h-4 group-hover:text-brand-500 transition-all duration-200"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8Zm10.25.75a.75.75 0 0 0 0-1.5H6.56l1.22-1.22a.75.75 0 1 0-1.06-1.06l-2.5 2.5a.75.75 0 0 0 0 1.06l2.5 2.5A.75.75 0 0 0 6.56 8.75h4.69Z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </span>

                <span>ุงูุนูุฏุฉ ููุณูุฉ</span>
              </a>

              <!-- Safe Payment -->
              <div
                class="inline-flex items-center gap-2 rounded-full bg-emerald-50 border border-emerald-100 text-emerald-700 px-3.5 py-1.5 text-xs shadow-sm"
              >
                <span
                  class="w-7 h-7 rounded-full bg-slate-50 flex items-center justify-center shadow-sm"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="currentColor"
                    class="h-4 w-4"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </span>

                <span class="font-medium">ุฏูุน ุขูู</span>
              </div>
            </div>
          </div>
        </div>
      </header>

      <!-- Toast / notification container -->
      <div
        id="toast-container"
        class="fixed top-40 left-4 z-40 flex flex-col gap-2 max-w-xs"
      ></div>

      <!-- Main content -->
      <main class="flex-1">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-10">
          <!-- Breadcrumb -->
          <nav
            class="text-xs sm:text-sm text-slate-500 mb-4 sm:mb-5"
            aria-label="ูุณุงุฑ ุงูุตูุญุฉ"
          >
            <ol class="flex flex-wrap items-center gap-1">
              <li>
                <a href="index.html" class="hover:text-slate-900">ุงูุฑุฆูุณูุฉ</a>
              </li>
              <li class="text-slate-400">/</li>
              <li>
                <a href="cart.html" class="hover:text-slate-900">ุณูุฉ ุงูุชุณูู</a>
              </li>
              <li class="text-slate-400">/</li>
              <li class="text-brand-700 font-medium">ุฅุชูุงู ุงูุดุฑุงุก</li>
            </ol>
          </nav>

          <!-- Page header: title + steps -->
          <div
            class="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-6 sm:mb-8"
          >
            <div class="space-y-2">
              <div
                class="inline-flex items-center gap-2 rounded-full bg-brand-100/70 text-[11px] text-brand-800 px-3 py-1"
              >
                <span
                  class="inline-flex h-5 w-5 items-center justify-center rounded-full bg-gradient-to-l from-brand-600 to-brand-500 text-white text-[10px] font-bold"
                  >โ</span
                >
                <span>ุนูููุฉ ุฏูุน ุขููุฉ ูุณููุฉ ุฏุงุฎู ุงูููู</span>
              </div>

              <div>
                <h1 class="text-2xl sm:text-3xl font-semibold mb-1">
                  ุฅุชูุงู ุงูุดุฑุงุก
                </h1>
                <p class="text-sm sm:text-base text-slate-500">
                  ุฃุฏุฎู ุจูุงูุงุชู ุจุฏูุฉ ูุฅุชูุงู ุงูุทูุจ ูุดุญูู ุฅูู ุนููุงูู ุจุฃุณุฑุน ููุช.
                </p>
              </div>
            </div>

            <!-- Steps indicator -->
            <div
              class="inline-flex items-center gap-2 rounded-2xl bg-white border border-brand-100 px-4 py-2 text-xs sm:text-sm shadow-soft"
            >
              <!-- Step 1 -->
              <div class="flex items-center gap-1.5">
                <span
                  class="w-6 h-6 rounded-full bg-slate-100 text-slate-500 flex items-center justify-center text-[11px] font-bold"
                >
                  1
                </span>
                <span class="hidden sm:inline text-slate-500">ุณูุฉ ุงูุชุณูู</span>
              </div>

              <span class="w-6 h-[1px] bg-slate-200"></span>

              <!-- Step 2 (current) -->
              <div class="flex items-center gap-1.5">
                <span
                  class="w-6 h-6 rounded-full bg-gradient-to-l from-brand-600 to-brand-500 text-white flex items-center justify-center text-[11px] font-bold shadow-sm"
                >
                  2
                </span>
                <span class="hidden sm:inline font-semibold text-brand-800">
                  ุฅุชูุงู ุงูุดุฑุงุก
                </span>
              </div>

              <span class="w-6 h-[1px] bg-slate-200"></span>

              <!-- Step 3 -->
              <div class="flex items-center gap-1.5">
                <span
                  class="w-6 h-6 rounded-full bg-slate-100 text-slate-400 flex items-center justify-center text-[11px] font-bold"
                >
                  3
                </span>
                <span class="hidden sm:inline text-slate-400">
                  ุชุฃููุฏ ุงูุทูุจ
                </span>
              </div>
            </div>
          </div>

          <!-- Main grid: form + summary -->
          <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8">
            <!-- Checkout form -->
            <section class="lg:col-span-2 space-y-5 sm:space-y-6">
              <form
                id="checkout-form"
                class="space-y-5 sm:space-y-6"
                novalidate
                onsubmit="handleCheckoutSubmit(event)"
              >
                <!-- Block 1: Customer info -->
                <div
                  class="bg-white rounded-2xl shadow-soft p-5 sm:p-6 border border-brand-50/70"
                >
                  <div class="flex items-start justify-between gap-3 mb-4">
                    <div>
                      <div class="flex items-center gap-2 mb-1.5">
                        <span
                          class="w-6 h-6 rounded-full bg-gradient-to-l from-brand-600 to-brand-500 text-white flex items-center justify-center text-[11px] font-bold"
                          >1</span
                        >
                        <h2 class="text-lg sm:text-xl font-semibold">
                          ูุนูููุงุช ุงูุนููู
                        </h2>
                      </div>
                      <p class="text-xs sm:text-sm text-slate-500">
                        ุณูุณุชุฎุฏู ูุฐู ุงูุจูุงูุงุช ููุชูุงุตู ูุนู ุญูู ุงูุทูุจ ูุงูุชูุตูู.
                      </p>
                    </div>
                    <span
                      class="hidden sm:inline-flex items-center rounded-full bg-brand-50 text-[11px] text-brand-700 px-2.5 py-1"
                      >ูุทููุจ *</span
                    >
                  </div>

                  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <!-- Full name -->
                    <div class="sm:col-span-2">
                      <label
                        for="full-name"
                        class="block text-sm font-medium mb-1.5"
                      >
                        ุงูุงุณู ุงููุงูู<span class="text-red-500 mr-1">*</span>
                      </label>
                      <input
                        type="text"
                        id="full-name"
                        name="fullName"
                        required
                        class="w-full rounded-2xl border border-slate-200 bg-slate-50 py-2.5 px-4 text-sm outline-none focus:bg-white focus:ring-2 focus:ring-brand-600/85 focus:border-brand-600/85"
                        placeholder="ุงูุชุจ ุงุณูู ุงูุซูุงุซู ููุง ุณูุธูุฑ ุนูู ุงููุงุชูุฑุฉ"
                      />
                    </div>

                    <!-- Phone -->
                    <div>
                      <label
                        for="phone"
                        class="block text-sm font-medium mb-1.5"
                      >
                        ุฑูู ุงูุฌูุงู ุงููููู<span class="text-red-500 mr-1"
                          >*</span
                        >
                      </label>
                      <input
                        type="tel"
                        id="phone"
                        name="phone"
                        required
                        pattern="^0?7[0-9]{8}$"
                        class="w-full rounded-2xl border text-right border-slate-200 bg-slate-50 py-2.5 px-4 text-sm outline-none focus:bg-white focus:ring-2 focus:ring-brand-600/85 focus:border-brand-600/85 placeholder:text-right"
                        placeholder="ูุซุงู: 770807260"
                      />
                      <p class="text-[0.7rem] text-slate-400 mt-1">
                        ุฃุฏุฎู ุฑูู ูููู ููููู ูู 9 ุฃุฑูุงู ูุจุฏุฃ ุจู 07 (ูุซู 71 / 73 /
                        77 / 78 / 70).
                      </p>
                    </div>

                    <!-- Email -->
                    <div>
                      <label
                        for="email"
                        class="block text-sm font-medium mb-1.5"
                      >
                        ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ุงุฎุชูุงุฑู)
                      </label>
                      <input
                        type="email"
                        id="email"
                        name="email"
                        class="w-full rounded-2xl border border-slate-200 bg-slate-50 py-2.5 px-4 text-sm outline-none focus:bg-white focus:ring-2 focus:ring-brand-600/85 focus:border-brand-600/85"
                        placeholder="example@email.com"
                      />
                    </div>
                  </div>
                </div>

                <!-- Block 2: Shipping address + Map -->
                <div
                  class="bg-white rounded-2xl shadow-soft p-5 sm:p-6 border border-slate-100 space-y-5"
                >
                  <!-- ุงูุนููุงู -->
                  <div class="flex items-start justify-between gap-3">
                    <div>
                      <div class="flex items-center gap-2 mb-1.5">
                        <span
                          class="w-6 h-6 rounded-full bg-gradient-to-l from-brand-600 to-brand-500 text-white flex items-center justify-center text-[11px] font-bold"
                          >2</span
                        >
                        <h2 class="text-lg sm:text-xl font-semibold">
                          ุนููุงู ุงูุดุญู ุฏุงุฎู ุงูููู
                        </h2>
                      </div>
                      <p class="text-xs sm:text-sm text-slate-500">
                        ุณูุชู ุดุญู ุทูุจู ุฅูู ูุฐุง ุงูุนููุงู ุนุจุฑ ุดุฑูุงุช ุงูุชูุตูู ุงููุญููุฉ.
                      </p>
                    </div>
                  </div>

                  <!-- ูููุฐุฌ ุงูุนููุงู -->
                  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <!-- Country -->
                    <div>
                      <label
                        for="country"
                        class="block text-sm font-medium mb-1.5"
                      >
                        ุงูุฏููุฉ<span class="text-red-500 mr-1">*</span>
                      </label>
                      <select
                        id="country"
                        name="country"
                        required
                        class="w-full rounded-2xl border border-slate-200 bg-slate-50 py-2.5 px-4 text-sm outline-none focus:bg-white focus:ring-2 focus:ring-brand-600/85 focus:border-brand-600/85"
                      >
                        <option value="">ุงุฎุชุฑ ุงูุฏููุฉ</option>
                        <option value="ye" selected>ุงูููู</option>
                      </select>
                    </div>

                    <!-- City -->
                    <div>
                      <label
                        for="city"
                        class="block text-sm font-medium mb-1.5"
                      >
                        ุงููุฏููุฉ / ุงููุญุงูุธุฉ<span class="text-red-500 mr-1"
                          >*</span
                        >
                      </label>
                      <input
                        type="text"
                        id="city"
                        name="city"
                        required
                        class="w-full rounded-2xl border border-slate-200 bg-slate-50 py-2.5 px-4 text-sm outline-none focus:bg-white focus:ring-2 focus:ring-brand-600/85 focus:border-brand-600/85"
                        placeholder="ูุซุงู: ุตูุนุงุกุ ุชุนุฒุ ุนุฏู..."
                      />
                    </div>

                    <!-- District / Area -->
                    <div>
                      <label
                        for="district"
                        class="block text-sm font-medium mb-1.5"
                      >
                        ุงูุญู / ุงูููุทูุฉ
                      </label>
                      <input
                        type="text"
                        id="district"
                        name="district"
                        class="w-full rounded-2xl border border-slate-200 bg-slate-50 py-2.5 px-4 text-sm outline-none focus:bg-white focus:ring-2 focus:ring-brand-600/85 focus:border-brand-600/85"
                        placeholder="ูุซุงู: ุญุฏุฉุ ุจูุช ุจูุณุ ุงูุชุญุฑูุฑ..."
                      />
                    </div>

                    <!-- Street -->
                    <div>
                      <label
                        for="street"
                        class="block text-sm font-medium mb-1.5"
                      >
                        ุงุณู ุงูุดุงุฑุน<span class="text-red-500 mr-1">*</span>
                      </label>
                      <input
                        type="text"
                        id="street"
                        name="street"
                        required
                        class="w-full rounded-2xl border border-slate-200 bg-slate-50 py-2.5 px-4 text-sm outline-none focus:bg-white focus:ring-2 focus:ring-brand-600/85 focus:border-brand-600/85"
                        placeholder="ุงุณู ุงูุดุงุฑุน ุฃู ุฃูุฑุจ ูุนูู"
                      />
                    </div>

                    <!-- Save address -->
                    <div class="sm:col-span-2 flex items-center gap-2 mt-1">
                      <input
                        id="save-address"
                        type="checkbox"
                        name="saveAddress"
                        class="h-4 w-4 rounded border-slate-300 text-brand-700 focus:ring-brand-700"
                      />
                      <label
                        for="save-address"
                        class="text-xs sm:text-sm text-slate-600"
                      >
                        ุญูุธ ูุฐุง ุงูุนููุงู ููุงุณุชุฎุฏุงู ูุงุญูุงู
                      </label>
                    </div>
                  </div>

                  <!-- ๐ฅ ุชุญุฏูุฏ ุงููููุน ุนูู ุงูุฎุฑูุทุฉ -->
                  <div
                    class="mt-4 rounded-2xl border border-brand-100 bg-brand-50/40 p-4 space-y-3"
                  >
                    <div
                      class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"
                    >
                      <div class="space-y-1">
                        <p class="text-sm font-medium text-slate-800">
                          ุญุฏุฏ ูููุนู ุนูู ุงูุฎุฑูุทุฉ (ุงุฎุชูุงุฑู ูููู ูุณุงุนุฏ ููุฏูุจ
                          ุงูุชูุตูู)
                        </p>
                        <p class="text-[11px] text-slate-500">
                          ููููู ุณุญุจ ุงูุนูุงูุฉ ุงูุฒุฑูุงุก ูุชุญุฏูุฏ ูููุนูุ ุฃู ุงุณุชุฎุฏุงู ุฒุฑ
                          "ูููุนู ุงูุญุงูู".
                        </p>
                      </div>

                      <button
                        type="button"
                        id="detect-location-btn"
                        class="inline-flex items-center gap-1 rounded-full bg-gradient-to-l from-brand-600 to-brand-500 text-white text-[11px] px-3 py-1.5 hover:from-brand-500 hover:to-brand-400 shadow-sm transition"
                      >
                        <span>๐</span>
                        <span>ุงุณุชุฎุฏู ูููุนู ุงูุญุงูู</span>
                      </button>
                    </div>

                    <!-- ุญุงูุฉ / ูุชูุฌุฉ ุชุญุฏูุฏ ุงููููุน -->
                    <p
                      id="location-status"
                      class="text-[11px] text-slate-600 bg-white/70 rounded-2xl px-3 py-2 border border-slate-100"
                    >
                      ูู ูุชู ุงุฎุชูุงุฑ ูููุน ุญุชู ุงูุขู. ููููู ุงูุถุบุท ุนูู ุงูุฎุฑูุทุฉ ุฃู
                      ุงุณุชุฎุฏุงู "ูููุนู ุงูุญุงูู".
                    </p>

                    <!-- ุฑุงุจุท ูุนุงููุฉ ูู Google Maps -->
                    <a
                      id="location-preview-link"
                      href="#"
                      target="_blank"
                      rel="noopener"
                      class="hidden text-[11px] items-center gap-1 text-brand-700 hover:text-brand-800"
                    >
                      ุงูุชุญ ูููุนู ูู Google Maps โ
                    </a>

                    <!-- ุงูุฎุฑูุทุฉ -->
                    <div
                      id="location-map"
                      class="mt-2 h-[340px] z-10 sm:h-[380px] lg:h-[420px] w-full rounded-2xl overflow-hidden border border-slate-200 bg-slate-100"
                    ></div>

                    <!-- ุญููู ูุฎููุฉ ููุฅุญุฏุงุซูุงุช -->
                    <input type="hidden" name="latitude" id="latitude" />
                    <input type="hidden" name="longitude" id="longitude" />

                    <p class="text-[10px] text-slate-400">
                      โ๏ธ ููุงุญุธุฉ: ุชุญุฏูุฏ ุงููููุน ุชูุฑูุจู ุญุณุจ GPS ูุงูุฅูุชุฑูุชุ ูุฐูู
                      ูููุถูู ูุชุงุจุฉ ูุตู ูุงุถุญ ููุนููุงู ูู ุญูู ุงูุดุงุฑุน ุฃู ุงูููุงุญุธุงุช.
                    </p>
                  </div>
                </div>

                <!-- Block 3: Shipping methods -->
                <div
                  class="bg-white rounded-2xl shadow-soft p-5 sm:p-6 border border-slate-100"
                >
                  <div class="flex items-start justify-between gap-3 mb-4">
                    <div>
                      <div class="flex items-center gap-2 mb-1.5">
                        <span
                          class="w-6 h-6 rounded-full bg-gradient-to-l from-brand-600 to-brand-500 text-white flex items-center justify-center text-[11px] font-bold"
                          >3</span
                        >
                        <h2 class="text-lg sm:text-xl font-semibold">
                          ุฎูุงุฑุงุช ุงูุดุญู ุฏุงุฎู ุงูููู
                        </h2>
                      </div>
                      <p class="text-xs sm:text-sm text-slate-500">
                        ุงุฎุชุฑ ุงูุทุฑููุฉ ุงูุฃูุณุจ ููููุนูุ ูุณูุชู ุงุญุชุณุงุจ ุชูููุชูุง ูู
                        ุงูููุฎุต.
                      </p>
                    </div>
                    <span
                      class="hidden sm:inline-flex items-center rounded-full bg-emerald-50 text-[11px] text-emerald-700 px-2.5 py-1"
                      >ุชูุตูู ุฎูุงู ูขโูฅ ุฃูุงู</span
                    >
                  </div>

                  <div id="shipping-methods" class="space-y-3">
                    <!-- Sana'a -->
                    <label
                      class="flex items-start gap-3 rounded-2xl border border-slate-200 p-3.5 cursor-pointer hover:border-brand-600/70 hover:bg-brand-50/40 transition"
                    >
                      <input
                        type="radio"
                        name="shippingMethod"
                        value="sanaa"
                        class="mt-1 h-4 w-4 text-brand-600 focus:ring-brand-600"
                        checked
                      />
                      <div class="flex-1">
                        <div class="flex items-center justify-between gap-2">
                          <span class="text-sm font-medium">
                            ุชูุตูู ุฏุงุฎู ุตูุนุงุก
                          </span>
                          <span class="text-sm font-semibold">
                            1,000 ุฑูุงู ูููู
                          </span>
                        </div>
                        <p class="text-xs text-slate-500 mt-1">
                          ุงูุชูุตูู ุฎูุงู ูขูค - ูคูจ ุณุงุนุฉ ุฏุงุฎู ุฃูุงูุฉ ุงูุนุงุตูุฉ.
                        </p>
                      </div>
                    </label>

                    <!-- Other governorates -->
                    <label
                      class="flex items-start gap-3 rounded-2xl border border-slate-200 p-3.5 cursor-pointer hover:border-brand-600/70 hover:bg-brand-50/40 transition"
                    >
                      <input
                        type="radio"
                        name="shippingMethod"
                        value="governorates"
                        class="mt-1 h-4 w-4 text-brand-600 focus:ring-brand-600"
                      />
                      <div class="flex-1">
                        <div class="flex items-center justify-between gap-2">
                          <span class="text-sm font-medium">
                            ุชูุตูู ุฅูู ุจุงูู ุงููุญุงูุธุงุช
                          </span>
                          <span class="text-sm font-semibold">
                            2,500 ุฑูุงู ูููู
                          </span>
                        </div>
                        <p class="text-xs text-slate-500 mt-1">
                          ุงูุชูุตูู ุนุจุฑ ุดุฑูุงุช ุงูููู ุฎูุงู ูข - ูฅ ุฃูุงู ุนูู ุญุณุจ
                          ุงููุฏููุฉ.
                        </p>
                      </div>
                    </label>

                    <!-- Pickup -->
                    <label
                      class="flex items-start gap-3 rounded-2xl border border-dashed border-slate-200 p-3.5 cursor-pointer hover:border-brand-600/70 hover:bg-emerald-50/40 transition"
                    >
                      <input
                        type="radio"
                        name="shippingMethod"
                        value="pickup"
                        class="mt-1 h-4 w-4 text-brand-600 focus:ring-brand-600"
                      />
                      <div class="flex-1">
                        <div class="flex items-center justify-between gap-2">
                          <span class="text-sm font-medium">
                            ุงุณุชูุงู ูู ุงููุนุฑุถ
                          </span>
                          <span class="text-sm font-semibold text-emerald-600">
                            ูุฌุงูู
                          </span>
                        </div>
                        <p class="text-xs text-slate-500 mt-1">
                          ุงุณุชูู ุทูุจู ูู ุงููุฑุน ุฎูุงู ูขูค ุณุงุนุฉ (ุณูุชู ุงูุชูุงุตู ูุนู
                          ูุชุญุฏูุฏ ุงููููุน).
                        </p>
                      </div>
                    </label>
                  </div>
                </div>

                <!-- Block 4: Payment + notes + terms -->
                <div
                  class="bg-white rounded-2xl shadow-soft p-5 sm:p-6 space-y-5 border border-slate-100"
                >
                  <!-- Payment methods -->
                  <div>
                    <div class="flex items-start justify-between gap-3 mb-4">
                      <div>
                        <div class="flex items-center gap-2 mb-1.5">
                          <span
                            class="w-6 h-6 rounded-full bg-gradient-to-l from-brand-600 to-brand-500 text-white flex items-center justify-center text-[11px] font-bold"
                            >4</span
                          >
                          <h2 class="text-lg sm:text-xl font-semibold">
                            ุทุฑู ุงูุฏูุน
                          </h2>
                        </div>
                        <p class="text-xs sm:text-sm text-slate-500">
                          ุงุฎุชุฑ ุทุฑููุฉ ุงูุฏูุน ุงูููุถููุฉ ูุฏูู. ุณูุนุฑุถ ูู ุชูุงุตูู
                          ุงูุชุญููู ูููุญูุธุฉ ุงููุฎุชุงุฑุฉ.
                        </p>
                      </div>
                      <span
                        class="hidden sm:inline-flex items-center rounded-full bg-brand-50 text-[11px] text-brand-700 px-2.5 py-1"
                        >ุฏูุน ุฅููุชุฑููู ุฃู ุนูุฏ ุงูุงุณุชูุงู</span
                      >
                    </div>

                    <div
                      id="payment-methods"
                      class="grid grid-cols-1 sm:grid-cols-2 gap-3"
                    >
                      <!-- ูุฑููู -->
                      <label
                        class="flex items-center gap-3 rounded-2xl border border-slate-200 p-3 cursor-pointer hover:border-brand-600/70 hover:bg-brand-50/40 transition"
                      >
                        <input
                          type="radio"
                          name="paymentMethod"
                          value="kuraimi"
                          class="h-4 w-4 text-brand-600 focus:ring-brand-600"
                          checked
                        />
                        <img
                          src="/src/assets/images/buys/kurime.png"
                          class="w-10 h-10 rounded-full"
                          alt=""
                        />
                        <div>
                          <p class="text-sm font-medium">ูุฑููู ุฌูุงู</p>
                          <p class="text-xs text-slate-500">
                            ุชุญููู ุนุจุฑ ูุญูุธุฉ ูุฑููู ุฌูุงู ุฅูู ุฑูู ุงููุญูุธุฉ ุงูุฎุงุต
                            ุจุงููุชุฌุฑ.
                          </p>
                        </div>
                      </label>

                      <!-- ุฌูุจ -->
                      <label
                        class="flex items-center gap-3 rounded-2xl border border-slate-200 p-3 cursor-pointer hover:border-brand-600/70 hover:bg-brand-50/40 transition"
                      >
                        <input
                          type="radio"
                          name="paymentMethod"
                          value="jeb"
                          class="h-4 w-4 text-brand-600 focus:ring-brand-600"
                        />
                        <img
                          src="/src/assets/images/buys/jaiep.png"
                          class="w-10 h-10 rounded-full"
                          alt=""
                        />
                        <div>
                          <p class="text-sm font-medium">ุฌูุจ</p>
                          <p class="text-xs text-slate-500">
                            ุงูุฏูุน ุจุงุณุชุฎุฏุงู ูุญูุธุฉ ุฌูุจ ุงูุฅููุชุฑูููุฉ.
                          </p>
                        </div>
                      </label>

                      <!-- ูู ูุงุด -->
                      <label
                        class="flex items-center gap-3 rounded-2xl border border-slate-200 p-3 cursor-pointer hover:border-brand-600/70 hover:bg-brand-50/40 transition"
                      >
                        <input
                          type="radio"
                          name="paymentMethod"
                          value="onecash"
                          class="h-4 w-4 text-brand-600 focus:ring-brand-600"
                        />
                        <img
                          src="/src/assets/images/buys/oneCach.jpg"
                          class="w-10 h-10 rounded-full"
                          alt=""
                        />
                        <div>
                          <p class="text-sm font-medium">ูู ูุงุด</p>
                          <p class="text-xs text-slate-500">
                            ุชุญููู ุงููุจูุบ ุนุจุฑ ูู ูุงุด ุฅูู ุจูุงูุงุช ุงููุชุฌุฑ.
                          </p>
                        </div>
                      </label>

                      <!-- ูููุณู -->
                      <label
                        class="flex items-center gap-3 rounded-2xl border border-slate-200 p-3 cursor-pointer hover:border-brand-600/70 hover:bg-brand-50/40 transition"
                      >
                        <input
                          type="radio"
                          name="paymentMethod"
                          value="falousak"
                          class="h-4 w-4 text-brand-600 focus:ring-brand-600"
                        />
                        <img
                          src="/src/assets/images/buys/floasak.webp"
                          class="w-10 h-10 rounded-full"
                          alt=""
                        />
                        <div>
                          <p class="text-sm font-medium">ูููุณู</p>
                          <p class="text-xs text-slate-500">
                            ุงูุฏูุน ุนุจุฑ ูุญูุธุฉ ูููุณู ุงูุฅููุชุฑูููุฉ.
                          </p>
                        </div>
                      </label>

                      <!-- ุฌูุงูู -->
                      <label
                        class="flex items-center gap-3 rounded-2xl border border-slate-200 p-3 cursor-pointer hover:border-brand-600/70 hover:bg-brand-50/40 transition"
                      >
                        <input
                          type="radio"
                          name="paymentMethod"
                          value="jawali"
                          class="h-4 w-4 text-brand-600 focus:ring-brand-600"
                        />
                        <img
                          src="/src/assets/images/buys/jawali.png"
                          class="w-10 h-10 rounded-full"
                          alt=""
                        />
                        <div>
                          <p class="text-sm font-medium">ุฌูุงูู</p>
                          <p class="text-xs text-slate-500">
                            ุชุญููู ูู ูุญูุธุฉ ุฌูุงูู ุฅูู ุฑูู ุงููุชุฌุฑ.
                          </p>
                        </div>
                      </label>

                      <!-- COD -->
                      <label
                        class="flex items-center gap-3 rounded-2xl border border-slate-200 p-3 cursor-pointer hover:border-brand-600/70 hover:bg-brand-50/40 transition"
                      >
                        <input
                          type="radio"
                          name="paymentMethod"
                          value="cod"
                          class="h-4 w-4 text-brand-600 focus:ring-brand-600"
                        />
                        <div>
                          <p class="text-sm font-medium">ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู</p>
                          <p class="text-xs text-slate-500">
                            ูุชุงุญ ุฏุงุฎู ุตูุนุงุก ูุจุนุถ ุงูููุงุทูุ ููุฏ ุชูุถุงู ุฑุณูู ุฎุฏูุฉ
                            ุจุณูุทุฉ.
                          </p>
                        </div>
                      </label>
                    </div>
                  </div>

                  <!-- Wallet details (dynamic) -->
                  <div
                    id="wallet-details-section"
                    class="grid grid-cols-1 sm:grid-cols-2 gap-4 border-t border-slate-100 pt-4"
                  >
                    <div class="sm:col-span-2">
                      <p
                        class="text-sm font-medium mb-1"
                        id="wallet-details-title"
                      >
                        ุชูุงุตูู ุงูุฏูุน ุนุจุฑ ูุฑููู ุฌูุงู
                      </p>
                      <p
                        class="text-xs text-slate-600"
                        id="wallet-details-description"
                      >
                        ูู ุจุชุญููู ุฅุฌูุงูู ูููุฉ ุงูุทูุจ ุฅูู ูุญูุธุฉ ูุฑููู ุฌูุงู ุนูู
                        ุงูุฑูู
                        <span class="font-semibold" id="wallet-wallet-number"
                          >777000000</span
                        >
                        ุซู ุฃุฏุฎู ุจูุงูุงุช ุงูุชุญููู ูู ุงูุญููู ุฃุฏูุงู.
                      </p>
                    </div>

                    <div>
                      <label
                        for="wallet-from-phone"
                        class="block text-sm font-medium mb-1.5"
                      >
                        ุฑูู ุงูุฌูุงู ุงูุฐู ุชู ุงูุชุญููู ููู
                      </label>
                      <input
                        type="tel"
                        id="wallet-from-phone"
                        name="walletFromPhone"
                        class="w-full rounded-2xl border border-slate-200 bg-slate-50 py-2.5 px-4 text-sm outline-none focus:bg-white focus:ring-2 focus:ring-brand-600/80 focus:border-brand-600/80 text-right placeholder:text-right"
                        placeholder="ูุซุงู:  770807260"
                      />
                    </div>

                    <div>
                      <label
                        for="wallet-tx-id"
                        class="block text-sm font-medium mb-1.5"
                      >
                        ุฑูู ุนูููุฉ ุงูุชุญููู (ุฅู ูุฌุฏ)
                      </label>
                      <input
                        type="text"
                        id="wallet-tx-id"
                        name="walletTxId"
                        class="w-full rounded-2xl border border-slate-200 bg-slate-50 py-2.5 px-4 text-sm outline-none focus:bg-white focus:ring-2 focus:ring-brand-600/80 focus:border-brand-600/80"
                        placeholder="ุงูุชุจ ุฑูู ุงูุนูููุฉ ุฃู ุงุชุฑูู ูุงุฑุบุงู"
                      />
                    </div>

                    <div class="sm:col-span-2">
                      <p class="text-[0.7rem] text-slate-400">
                        ุจุนุฏ ุฅุชูุงู ุงูุทูุจ ุณูููู ูุฑูู ุฎุฏูุฉ ุงูุนููุงุก ุจุงูุชูุงุตู ูุนู
                        ูุชุฃููุฏ ุงูุฏูุน ูุงูุชูุงุตูู ุงูููุงุฆูุฉ.
                      </p>
                    </div>
                  </div>

                  <!-- Extra notes -->
                  <div class="border-t border-slate-100 pt-4">
                    <label
                      for="order-notes"
                      class="block text-sm font-medium mb-1.5"
                    >
                      ููุงุญุธุงุช ุฅุถุงููุฉ (ุงุฎุชูุงุฑู)
                    </label>
                    <textarea
                      id="order-notes"
                      name="orderNotes"
                      rows="3"
                      class="w-full rounded-2xl border border-slate-200 bg-slate-50 py-2.5 px-4 text-sm outline-none focus:bg-white focus:ring-2 focus:ring-brand-600/80 focus:border-brand-600/80"
                      placeholder="ุงูุชุจ ุฃู ููุงุญุธุงุช ุฎุงุตุฉ ุจุงูุชูุตูู (ููุช ููุงุณุจุ ุฃูุฑุจ ูุนููุ ุชูุงุตูู ุฅุถุงููุฉ...)"
                    ></textarea>
                  </div>

                  <!-- Terms -->
                  <div class="border-t border-slate-100 pt-4">
                    <label
                      class="flex items-start gap-2 text-xs sm:text-sm text-slate-600"
                    >
                      <input
                        id="agree-terms"
                        type="checkbox"
                        name="agreeTerms"
                        required
                        class="mt-1 h-4 w-4 rounded border-slate-300 text-brand-600 focus:ring-brand-600"
                      />
                      <span>
                        ุฃูุงูู ุนูู
                        <a
                          href="return-policy.html"
                          class="underline underline-offset-2 hover:text-brand-700"
                        >
                          ุณูุงุณุฉ ุงูุงุณุชุจุฏุงู ูุงูุงุณุชุฑุฌุงุน
                        </a>
                        ู
                        <a
                          href="shipping-policy.html"
                          class="underline underline-offset-2 hover:text-brand-700"
                        >
                          ุณูุงุณุฉ ุงูุดุญู
                        </a>
                        ุงูุฎุงุตุฉ ุจูุชุฌุฑ ุงูุฃูุงูุฉ.
                      </span>
                    </label>
                  </div>
                </div>

                <!-- Bottom actions (mobile) -->
                <div class="lg:hidden flex flex-col gap-3 pt-1">
                  <button
                    type="submit"
                    class="w-full inline-flex items-center justify-center rounded-2xl bg-gradient-to-l from-brand-700 to-brand-500 px-4 py-3 text-sm sm:text-base font-semibold text-white shadow-soft hover:opacity-90 active:scale-[0.98] transition"
                  >
                    ุชุฃููุฏ ุงูุทูุจ
                  </button>
                  <a
                    href="cart.html"
                    class="w-full inline-flex items-center justify-center rounded-2xl border border-slate-300 bg-white px-4 py-3 text-sm font-medium text-slate-700 hover:border-brand-600/60 hover:text-brand-700 transition"
                  >
                    ุงูุนูุฏุฉ ุฅูู ุงูุณูุฉ
                  </a>
                </div>
              </form>
            </section>

            <!-- Order summary (aside) -->
            <aside class="lg:col-span-1 space-y-4 lg:space-y-5">
              <div
                class="bg-white rounded-2xl shadow-soft p-5 sm:p-6 border border-brand-50/80 lg:sticky lg:top-28"
              >
                <div class="flex items-center justify-between mb-3">
                  <h2 class="text-lg font-semibold">ููุฎุต ุงูุทูุจ</h2>
                  <!-- <span
                    class="text-[11px] px-2 py-1 rounded-full bg-brand-50 text-brand-700"
                    >ุงูุฏูุน ุจุงูุฑูุงู ุงููููู</span
                  > -->
                </div>

                <!-- Products list (filled from cart.js) -->
                <div
                  id="order-summary-items"
                  class="space-y-3 mb-4 max-h-64 overflow-y-auto pr-1"
                >
                  <p class="text-xs text-slate-500">
                    ูุชู ุชุญููู ุงูููุชุฌุงุช ูู ุงูุณูุฉ...
                  </p>
                </div>

                <!-- Coupon -->
                <div
                  class="border border-dashed border-brand-200 rounded-2xl p-3.5 mb-4 bg-brand-50/40"
                >
                  <p class="text-xs text-slate-600 mb-2">
                    ูุฏูู ููุจูู ุฎุตูุ (ูุซุงู ุชุฌุฑูุจู:
                    <span class="font-semibold">YEMEN10</span>)
                  </p>
                  <div class="flex gap-2">
                    <input
                      type="text"
                      id="checkout-coupon"
                      class="flex-1 rounded-2xl border border-slate-200 bg-white py-2 px-3 text-xs outline-none focus:bg-white focus:ring-2 focus:ring-brand-600/80 focus:border-brand-600/80"
                      placeholder="ุฃุฏุฎู ููุจูู ุงูุฎุตู"
                    />
                    <button
                      type="button"
                      id="apply-coupon-button"
                      class="whitespace-nowrap rounded-2xl border border-brand-500/70 bg-white px-3 py-2 text-xs font-medium text-brand-700 hover:bg-brand-600 hover:text-white hover:border-brand-600 transition"
                    >
                      ุชุทุจูู
                    </button>
                  </div>
                  <p
                    id="checkout-coupon-message"
                    class="mt-1 text-[0.7rem] text-slate-500"
                  ></p>
                </div>

                <!-- Totals -->
                <dl class="space-y-2 text-sm mb-4">
                  <div class="flex items-center justify-between">
                    <dt class="text-slate-600">ุงููุฌููุน ุงููุฑุนู</dt>
                    <dd id="order-summary-subtotal" class="font-medium">
                      0 ุฑูุงู ูููู
                    </dd>
                  </div>
                  <div class="flex items-center justify-between">
                    <dt class="text-slate-600">ุงูุดุญู</dt>
                    <dd id="order-summary-shipping" class="font-medium">
                      0 ุฑูุงู ูููู
                    </dd>
                  </div>
                  <div class="flex items-center justify-between">
                    <dt class="text-slate-600">ุงูุฎุตู</dt>
                    <dd
                      id="order-summary-discount"
                      class="font-medium text-emerald-600"
                    >
                      0 ุฑูุงู ูููู
                    </dd>
                  </div>
                  <div
                    class="border-top border-slate-100 pt-2 mt-1 flex items-center justify-between"
                  >
                    <dt class="text-base font-semibold">ุงูุฅุฌูุงูู</dt>
                    <dd
                      id="order-summary-total"
                      class="text-base font-semibold text-brand-800"
                    >
                      0 ุฑูุงู ูููู
                    </dd>
                  </div>
                </dl>

                <!-- Info line -->
                <p class="text-[0.7rem] text-slate-500 mb-4">
                  ุงูุฃุณุนุงุฑ ุจุงูุฑูุงู ุงููููู. ูุฏ ุชุฎุชูู ุชูููุฉ ุงูุดุญู ููููุงู ุญุณุจ ุดุฑูุฉ
                  ุงูุชูุตูู ูุงููุฏููุฉ.
                </p>

                <!-- Desktop actions -->
                <div class="hidden lg:flex flex-col gap-3">
                  <button
                    type="submit"
                    form="checkout-form"
                    class="w-full inline-flex items-center justify-center rounded-2xl bg-gradient-to-l from-brand-700 to-brand-500 px-4 py-3 text-sm sm:text-base font-semibold text-white shadow-soft hover:opacity-90 active:scale-[0.98] transition"
                  >
                    ุชุฃููุฏ ุงูุทูุจ
                  </button>
                  <a
                    href="cart.html"
                    class="w-full inline-flex items-center justify-center rounded-2xl border border-slate-300 bg-white px-4 py-3 text-sm font-medium text-slate-700 hover:border-brand-600/60 hover:text-brand-700 transition"
                  >
                    ุงูุนูุฏุฉ ุฅูู ุงูุณูุฉ
                  </a>
                </div>
              </div>

              <!-- Security badges -->
              <div
                class="bg-white rounded-2xl shadow-soft p-4 text-xs text-slate-600 space-y-3 border border-slate-100"
              >
                <div class="flex items-center gap-2">
                  <div
                    class="w-8 h-8 rounded-full bg-brand-50 flex items-center justify-center"
                  >
                    <svg
                      class="w-4 h-4 text-brand-700"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="1.7"
                        d="M16 11V7a4 4 0 1 0-8 0v4m-1 0h10a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-6a2 2 0 0 1 2-2Z"
                      />
                    </svg>
                  </div>
                  <div>
                    <p class="font-medium text-[0.75rem]">
                      ุฏูุน ุขูู ุนุจุฑ ุงููุญุงูุธ ุงูุฅููุชุฑูููุฉ
                    </p>
                    <p class="text-[0.7rem] text-slate-500">
                      ูู ูุทูุจ ููู ูููุฉ ุงูุณุฑ ุฃู ููุฏ ุงูู OTPุ ููุท ุจูุงูุงุช ุงูุชุญููู.
                    </p>
                  </div>
                </div>

                <div class="flex items-center gap-2">
                  <div
                    class="w-8 h-8 rounded-full bg-brand-50 flex items-center justify-center"
                  >
                    <svg
                      class="w-4 h-4 text-brand-700"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="1.7"
                        d="M4 4v5h.582M20 20v-5h-.581M5.582 9A7.5 7.5 0 0 1 18.5 6.75L20 9M18.418 15A7.5 7.5 0 0 1 5.5 17.25L4 15"
                      />
                    </svg>
                  </div>
                  <div>
                    <p class="font-medium text-[0.75rem]">
                      ุงุณุชุจุฏุงู ูุงุณุชุฑุฌุงุน ุณูู
                    </p>
                    <p class="text-[0.7rem] text-slate-500">
                      ููููู ุทูุจ ุงูุงุณุชุจุฏุงู ุฃู ุงูุงุณุชุฑุฌุงุน ููู ุณูุงุณุฉ ุงููุชุฌุฑ ุงููุญููุฉ.
                    </p>
                  </div>
                </div>
              </div>
            </aside>
          </div>
        </div>
      </main>

      <!-- FOOTER -->
      <footer class="border-t border-slate-200 bg-white mt-10">
        <div class="container mx-auto px-4 py-10">
          <div class="grid md:grid-cols-4 gap-8 text-sm">
            <div>
              <h4 class="font-semibold mb-3">ูุชุฌุฑ ุงูุชูููุฉ</h4>
              <p class="text-xs text-slate-600 mb-3">
                ูุชุฌุฑ ุฅููุชุฑููู ูุชุฎุตุต ูู ุจูุน ุงูุฃุฌูุฒุฉ ุงูุฅููุชุฑูููุฉุ ุงูุฌูุงูุงุชุ
                ุงููุงุจุชูุจุงุชุ ุงูุดุงุดุงุชุ ูุฃุฌูุฒุฉ ุงูุฃูุนุงุจ ูุน ุถูุงู ูุนุชูุฏ ูุฎุฏูุฉ ูุง ุจุนุฏ
                ุงูุจูุน ูู ุงูุนุงูู ุงูุนุฑุจู.
              </p>
              <p class="text-xs text-slate-500">
                ุณุงุนุงุช ุงูุนูู: ูู ุงูุฃุญุฏ ุฅูู ุงูุฎููุณุ 9 ุตุจุงุญุงู - 6 ูุณุงุกู.
              </p>
            </div>
            <div>
              <h4 class="font-semibold mb-3">ุฑูุงุจุท ูููุฉ</h4>
              <ul class="space-y-2 text-xs text-slate-600">
                <li>
                  <a href="/src/pages/about.html" class="hover:text-brand-600"
                    >ูู ูุญู</a
                  >
                </li>
                <li>
                  <a
                    href="/src/pages/shipping-policy.html"
                    class="hover:text-brand-600"
                    >ุณูุงุณุฉ ุงูุดุญู</a
                  >
                </li>
                <li>
                  <a
                    href="/src/pages/return-policy.html"
                    class="hover:text-brand-600"
                    >ุณูุงุณุฉ ุงูุงุณุชุจุฏุงู ูุงูุงุณุชุฑุฌุงุน</a
                  >
                </li>
                <li>
                  <a href="/src/pages/faq.html" class="hover:text-brand-600"
                    >ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ</a
                  >
                </li>
                <li>
                  <a href="/src/pages/contact.html" class="hover:text-brand-600"
                    >ุชูุงุตู ูุนูุง</a
                  >
                </li>
              </ul>
            </div>
            <div>
              <h4 class="font-semibold mb-3">ุญุณุงุจู</h4>
              <ul class="space-y-2 text-xs text-slate-600">
                <li>
                  <a href="/src/pages/account.html" class="hover:text-brand-600"
                    >ููุญุฉ ุงูุชุญูู</a
                  >
                </li>
                <li>
                  <a href="/src/pages/cart.html" class="hover:text-brand-600"
                    >ุณูุฉ ุงูุชุณูู</a
                  >
                </li>
                <li>
                  <a
                    href="/src/pages/checkout.html"
                    class="hover:text-brand-600"
                    >ุฅุชูุงู ุงูุดุฑุงุก</a
                  >
                </li>
              </ul>
            </div>
            <div>
              <h4 class="font-semibold mb-3">ุชุงุจุนูุง ูุทุฑู ุงูุฏูุน</h4>
              <div class="flex gap-4 text-lg mb-3">
                <!-- Instagram -->
                <a href="#" class="hover:text-brand-600" aria-label="Instagram">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="w-6 h-6"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      d="M7.75 2h8.5A5.75 5.75 0 0 1 22 7.75v8.5A5.75 5.75 0 0 1 16.25 22h-8.5A5.75 5.75 0 0 1 2 16.25v-8.5A5.75 5.75 0 0 1 7.75 2zm0 1.5A4.25 4.25 0 0 0 3.5 7.75v8.5A4.25 4.25 0 0 0 7.75 20.5h8.5A4.25 4.25 0 0 0 20.5 16.25v-8.5A4.25 4.25 0 0 0 16.25 3.5h-8.5zM12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 1.5a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7zm5-1.75a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5z"
                    />
                  </svg>
                </a>

                <!-- Twitter (X) -->
                <a
                  href="#"
                  class="hover:text-brand-600"
                  aria-label="Twitter / X"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="w-6 h-6"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      d="M18.146 2h3.123l-6.817 7.79L22 22h-6.343l-4.96-6.507L4.8 22H1.674l7.31-8.35L2 2h6.47l4.474 5.932L18.146 2zm-2.217 17.597h1.727L8.173 4.295H6.314l9.615 15.302z"
                    />
                  </svg>
                </a>

                <!-- TikTok -->
                <a href="#" class="hover:text-brand-600" aria-label="TikTok">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="w-6 h-6"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      d="M12.95 2h3.03c.15 1.33.76 2.54 1.72 3.44A6.3 6.3 0 0 0 19.7 7v3.03a9.3 9.3 0 0 1-3.47-.7 9.55 9.55 0 0 1-1.32-.67v6.55a6.82 6.82 0 0 1-1.25 3.97A6.36 6.36 0 0 1 9.4 22a6.4 6.4 0 0 1-1.9-.29 6.45 6.45 0 0 1-1.62-.83 6.37 6.37 0 0 1-2.31-3.05A6.5 6.5 0 0 1 3.4 15c0-1.3.37-2.56 1.06-3.64A6.37 6.37 0 0 1 7.74 8.4a6.28 6.28 0 0 1 3.48.07v3.29a3.1 3.1 0 0 0-1.47-.38 3.16 3.16 0 0 0-2.19.9A3.3 3.3 0 0 0 6.7 15c0 .86.33 1.66.93 2.26.6.6 1.4.94 2.24.94a3.16 3.16 0 0 0 2.23-.92 3.1 3.1 0 0 0 .93-2.25V2z"
                    />
                  </svg>
                </a>
              </div>

              <p class="text-xs text-slate-600 mb-2">
                ุงุดุชุฑู ูู ุงููุดุฑุฉ ุงูุจุฑูุฏูุฉ ููุญุตูู ุนูู ุฃุญุฏุซ ุงูุนุฑูุถ ูุงูุชุฎููุถุงุช ุนูู
                ุงูุฅููุชุฑูููุงุช.
              </p>
              <form class="flex gap-2">
                <input
                  type="email"
                  class="flex-1 rounded-full border border-slate-200 px-3 py-1.5 text-xs focus:outline-none focus:border-brand-500"
                  placeholder="ุฃุฏุฎู ุจุฑูุฏู ุงูุฅููุชุฑููู"
                />
                <button
                  type="submit"
                  class="rounded-full bg-slate-900 text-white text-xs px-4 py-1.5 hover:bg-slate-800"
                >
                  ุงุดุชุฑุงู
                </button>
              </form>

              <div class="mt-4">
                <p class="text-xs mb-2 text-slate-600">ุทุฑู ุงูุฏูุน ุงููุชุงุญุฉ:</p>
                <div class="flex flex-wrap gap-2 text-[11px] text-slate-800">
                  <span
                    class="px-3 py-1 rounded-full bg-slate-100 border border-slate-200"
                    >ูุฏู</span
                  >
                  <span
                    class="px-3 py-1 rounded-full bg-slate-100 border border-slate-200"
                    >VISA</span
                  >
                  <span
                    class="px-3 py-1 rounded-full bg-slate-100 border border-slate-200"
                    >Mastercard</span
                  >
                  <span
                    class="px-3 py-1 rounded-full bg-slate-100 border border-slate-200"
                    >Apple Pay</span
                  >
                  <span
                    class="px-3 py-1 rounded-full bg-slate-100 border border-slate-200"
                    >ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู</span
                  >
                </div>
              </div>
            </div>
          </div>
          <div
            class="mt-8 border-t border-slate-100 pt-4 flex flex-col md:flex-row items-center justify-between text-[11px] text-slate-500 gap-2 px-4"
          >
            <p>ยฉ <span id="year"></span> ูุชุฌุฑ ุงูุชูููุฉ. ุฌููุน ุงูุญููู ูุญููุธุฉ.</p>
            <p>ุชู ุชุทููุฑ ุงููููุน ูู ูุจู ู/ุงููู ุนุฌูุงู.</p>
          </div>
        </div>
      </footer>
    </div>

    <!-- JS files -->
    <script src="/src/assets/js/main.js"></script>
    <script src="/src/assets/js/cart.js"></script>
    <script src="/src/assets/js/checkout.js"></script>
    <!-- Leaflet JS -->
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const mapContainer = document.getElementById("location-map");
        if (!mapContainer) return;

        const statusEl = document.getElementById("location-status");
        const detectBtn = document.getElementById("detect-location-btn");
        const previewLink = document.getElementById("location-preview-link");
        const latInput = document.getElementById("latitude");
        const lngInput = document.getElementById("longitude");

        // โ ุฅุญุฏุงุซูุงุช ุงูุชุฑุงุถูุฉ (ูุซูุงู ูุณุท ุตูุนุงุก) - ุนุฏูููุง ูู ุญุงุจ
        const defaultLat = 15.3694;
        const defaultLng = 44.191;

        // ุฅูุดุงุก ุงูุฎุฑูุทุฉ
        const map = L.map("location-map", {
          center: [defaultLat, defaultLng],
          zoom: 13,
          zoomControl: false,
        });

        // ุฅุถุงูุฉ ุชุญูู ุงูุฒูู ูู ููุงู ุฃูุณุจ (ุฃุณูู ูุณุงุฑ ูุซูุงู)
        L.control
          .zoom({
            position: "bottomleft",
          })
          .addTo(map);

        L.tileLayer(
          "https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}.png",
          {
            maxZoom: 20,
            detectRetina: true,
          }
        ).addTo(map);

        setTimeout(() => map.invalidateSize(), 300);

        // โ Icon ูุฎุตุต ุจุฃููุงู ุงููููุฉ
        const brandPinIcon = L.divIcon({
          className: "",
          iconSize: [38, 38],
          iconAnchor: [19, 28],
          html: `
                    <div style="position: relative;">
                      <div class="map-pin-pulse"></div>
                      <div class="map-pin-outer">
                        <div class="map-pin-inner"></div>
                      </div>
                    </div>
                  `,
        });

        // ุฅูุดุงุก ูุงุฑูุฑ ูุงุจู ููุณุญุจ
        let marker = L.marker([defaultLat, defaultLng], {
          draggable: true,
          icon: brandPinIcon,
        }).addTo(map);

        // ุชุญุฏูุซ ุงูุญููู ูุงููุต ูุงูุฑุงุจุท
        function updateLocation(lat, lng) {
          if (latInput) latInput.value = lat.toFixed(6);
          if (lngInput) lngInput.value = lng.toFixed(6);

          if (statusEl) {
            statusEl.textContent = `ุชู ุงุฎุชูุงุฑ ูููุน ุชูุฑูุจุงู ุนูุฏ ุงูุฅุญุฏุงุซูุงุช: (${lat.toFixed(
              5
            )} ุ ${lng.toFixed(5)})`;
            statusEl.classList.remove("text-slate-600");
            statusEl.classList.add("text-brand-700");
          }

          if (previewLink) {
            previewLink.href = `https://www.google.com/maps?q=${lat},${lng}`;
            previewLink.classList.remove("hidden");
          }
        }

        // ุฃูู ุชุญุฏูุซ ุจุงูููู ุงูุงูุชุฑุงุถูุฉ
        updateLocation(defaultLat, defaultLng);

        // ุนูุฏ ุณุญุจ ุงููุงุฑูุฑ
        marker.on("moveend", function (e) {
          const pos = e.target.getLatLng();
          updateLocation(pos.lat, pos.lng);
        });

        // ุฒุฑ "ุงุณุชุฎุฏู ูููุนู ุงูุญุงูู"
        if (detectBtn && navigator.geolocation) {
          detectBtn.addEventListener("click", function () {
            detectBtn.disabled = true;
            detectBtn.classList.add("opacity-70");
            if (statusEl) {
              statusEl.textContent = "ุฌุงุฑู ุชุญุฏูุฏ ูููุนู ุงูุชูุฑูุจู...";
              statusEl.classList.remove("text-brand-700");
              statusEl.classList.add("text-slate-600");
            }

            navigator.geolocation.getCurrentPosition(
              function (pos) {
                const { latitude, longitude } = pos.coords;
                map.setView([latitude, longitude], 15);
                marker.setLatLng([latitude, longitude]);
                updateLocation(latitude, longitude);
                detectBtn.disabled = false;
                detectBtn.classList.remove("opacity-70");

                if (window.showToast) {
                  window.showToast(
                    "ุชู ุชุญุฏูุฏ ูููุนู ุงูุชูุฑูุจู ุนูู ุงูุฎุฑูุทุฉ โ",
                    "success"
                  );
                }
              },
              function () {
                detectBtn.disabled = false;
                detectBtn.classList.remove("opacity-70");
                if (statusEl) {
                  statusEl.textContent =
                    "ุชุนุฐุฑ ุชุญุฏูุฏ ุงููููุน ุชููุงุฆูุงูุ ููููู ุณุญุจ ุงูุนูุงูุฉ ุฃู ุงูุถุบุท ุนูู ุงูุฎุฑูุทุฉ.";
                  statusEl.classList.remove("text-brand-700");
                  statusEl.classList.add("text-red-600");
                }
                if (window.showToast) {
                  window.showToast(
                    "ุชุนุฐุฑ ุงููุตูู ุฅูู ูููุนู. ุชุฃูุฏ ูู ุชูุนูู GPS/ุงููููุน.",
                    "error"
                  );
                }
              },
              {
                enableHighAccuracy: true,
                timeout: 8000,
              }
            );
          });
        }

        // ุงูุณูุงุญ ูููุณุชุฎุฏู ูุถุบุท ุนูู ุงูุฎุฑูุทุฉ ูุชุบููุฑ ุงููููุน
        map.on("click", function (e) {
          const { lat, lng } = e.latlng;
          marker.setLatLng([lat, lng]);
          updateLocation(lat, lng);
        });
      });
    </script>
  </body>
</html>
